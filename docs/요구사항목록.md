# 요구 사항 목록

## 공통
- 모든 도메인 객체는 id(식별자 값)를 가진다.

## 상품
- 상품에는 이름과 가격이 있다.

## 메뉴
- 메뉴에는 이름, 가격, 메뉴 그룹과 상품이 있다.
- 메뉴 그룹에는 그룹 이름만 존재한다. 

### 메뉴 생성 규칙
- 입력 가격은 0원 이상이어야 한다.
- 입력 메뉴 그룹은 DB에 존재하는 메뉴 그룹이어야 한다.
- 상품 또한 존재하는 상품이어야한다.
- 상품 정보를 입력할 때 id 뿐만 아니라 개수도 함꼐 입력한다.
- 상품 가격 총 합이 입력한 메뉴 가격보다 큰 경우에는 예외가 발생한다.

## 주문 테이블
- 주문 테이블에는 주문 테이블 그룹과 게스트 수, 주문 가능 여부가 있다.

### 주문 테이블 생성 규칙
- 주문 가능 여부와 방문 손님 수를 입력받는다.
- 생성 시에는 단체 지정으로 묶지 않는다.

### 주문 테이블 상태 변경 규칙
- 주문 테이블 id(식별자 값)와 변경할 상태를 입력받는다.
- 변경하려는 주문 테이블이 검색되지 않으면 예외가 발생한다.
- 변경하려는 주문 테이블이 단체 지정 되어있으면 테이블 상태를 변경할 수 없다.
- 조리중이나 식사중인 주문인 경우에도 테이블 상태를 변경할 수 없다.

### 주문 테이블 손님 수 변경 규칙
- 주문 테이블 id(식별자 값)와 변경할 방문 손님 수를 입력받는다.
- 방문 손님 수가 음수인 경우에는 예외가 발생한다.
- 빈 테이블인 경우 손님 수를 변경할 수 없다.

### 주문 테이블 단체 지정 규칙
- 합칠 주문 테이블의 id(식별자 값) 목록을 입력받는다.
- 주문 테이블 목록이 2개 미만인 경우에는 예외가 발생한다.
- 잘못된 주문 테이블 id를 입력한 경우에는 예외가 발생한다.
- 주문 테이블 중에 빈 테이블이 아닌 경우가 존재하면 예외가 발생한다.
- 주문 테이블 중에 단체 지정된 상태인 테이블이 존재하면 예외가 발생한다.
- 단체 지정을 하게 되면 단체 지정된 테이블들은 차있는 테이블이 된다.

### 주문 테이블 단체 지정 해제 규칙
- 만약 조리 중이거나 식사 중인 주문 테이블이 그룹에 속해있는 경우 예외가 발생한다.
- 그룹 지정 해제를 하게 되면 그룹만 해제될 뿐 빈 테이블이 되지는 않는다.

## 주문
- 주문에는 주문 테이블과 주문 상태, 주문 시간, 메뉴와 양이 있다.

### 주문 생성 규칙
- 주문 테이블 id(식별자 값)와 메뉴+양 목록을 입력 받아 생성할 수 있다.
- 입력한 메뉴 목록이 비어있으면 예외가 발생한다.
- 존재하지 않는 메뉴를 입력받으면 예외가 발생한다.
- 주문 테이블 id가 잘못된 경우에 예외가 발생한다.
- 빈 주문 테이블인 경우에 예외가 발생한다.
- 주문 요청이 성공하면 조리 중으로 상태가 변한다.
- 주문 테이블을 먼저 생성하고 주문을 생성하도록 한다.

### 주문 상태 변경 규칙
- 변경할 주문 id(식별자 값)와 변경할 상태를 입력받는다.
- 잘못된 주문 id인 경우에는 예외가 발생한다.
- 계산 상태의 주문은 상태 변경이 불가능하다.
